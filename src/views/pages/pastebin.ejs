<div
  class="flex w-full max-w-4xl flex-col items-center justify-center gap-8 p-8"
>
  <h1
    class="from-cadillac to-bashful dark:from-cotton-candy dark:to-cadillac bg-gradient-to-r bg-clip-text text-3xl font-bold text-transparent"
  >
    Hastebin Tool
  </h1>

  <div class="w-full">
    <div class="mb-4">
      <label
        for="codeInput"
        class="mb-2 block font-medium text-gray-700 dark:text-gray-300"
        >Enter your code:</label
      >
      <textarea
        id="codeInput"
        rows="10"
        class="w-full rounded-lg border bg-white px-4 py-2 placeholder-gray-700 focus:ring-2 focus:ring-blue-500 focus:outline-none dark:border-gray-700 dark:bg-gray-800 dark:placeholder-white"
      ></textarea>
    </div>

    <div class="mt-6 text-center">
      <button
        id="hastebinBtn"
        class="from-cadillac to-bashful dark:from-cotton-candy dark:to-cadillac cursor-pointer rounded-lg bg-gradient-to-r px-6 py-2 text-white transition hover:opacity-90"
      >
        Create Hastebin
      </button>
    </div>

    <div id="result" class="mt-6 space-y-4"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hastebin@0.2.1/src/hastebin.min.js"></script>
<script>
  document.getElementById("hastebinBtn").addEventListener("click", function () {
    var code = document.getElementById("codeInput").value.trim();

    if (code === "") {
      alert("Please enter some code!");
      return;
    }

    // Use the global hastebin object from the CDN
    hastebin
      .post(code, "https://hastebin.com")
      .then(function (url) {
        // Display the URL of the newly created paste
        var resultDiv = document.getElementById("result");
        resultDiv.innerHTML = `
                    <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
                        <p class="font-semibold text-gray-700 dark:text-gray-300">Your Hastebin URL:</p>
                        <a href="${url}" target="_blank" class="text-blue-500">View your paste here</a>
                    </div>
                `;
      })
      .catch(function (error) {
        alert("Error creating paste: " + error);
      });
  });
</script>
