<div class="flex w-full max-w-4xl flex-col items-center justify-center gap-8 p-8">
    <h1
        class="from-cadillac to-bashful dark:from-cotton-candy dark:to-cadillac bg-gradient-to-r bg-clip-text text-3xl font-bold text-transparent">
        Hastebin Tool
    </h1>

    <div class="w-full">
        <div class="mb-4">
            <label for="codeInput" class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Enter your
                code:</label>
            <textarea id="codeInput" rows="10"
                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 bg-white placeholder-gray-700 dark:placeholder-white dark:border-gray-700"></textarea>
        </div>

        <div class="mt-6 text-center">
            <button id="hastebinBtn"
                class="px-6 py-2 text-white rounded-lg transition cursor-pointer bg-gradient-to-r from-cadillac to-bashful hover:opacity-90 dark:from-cotton-candy dark:to-cadillac">
                Create Hastebin
            </button>
        </div>

        <div id="result" class="space-y-4 mt-6"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hastebin@0.2.1/src/hastebin.min.js"></script>
<script>
    document.getElementById('hastebinBtn').addEventListener('click', function () {
        var code = document.getElementById('codeInput').value.trim();

        if (code === '') {
            alert('Please enter some code!');
            return;
        }

        // Use the global hastebin object from the CDN
        hastebin.post(code, 'https://hastebin.com')
            .then(function (url) {
                // Display the URL of the newly created paste
                var resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
                    <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
                        <p class="font-semibold text-gray-700 dark:text-gray-300">Your Hastebin URL:</p>
                        <a href="${url}" target="_blank" class="text-blue-500">View your paste here</a>
                    </div>
                `;
            })
            .catch(function (error) {
                alert('Error creating paste: ' + error);
            });
    });
</script>
</body>
</html>